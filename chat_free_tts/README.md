# chat_free_tts

Коротко
------
Небольшой локальный чат с поддержкой озвучки сообщений (TTS). Приложение рендерит простую UI-оболочку на Pygame, позволяет вводить текст, отправлять его и слушать результат голосом, выбранным из списка. Поддерживаются онлайн-озвучка (Microsoft/Edge TTS через edge-tts) и офлайн-озвучка (pyttsx3). Также реализована авто-проверка интернета в фоне.

Подробно
-------
- `main.py` — основной GUI и точка входа. Отвечает за ввод, отображение истории чата, переключение голосов и режимов, а также реагирует на горячие клавиши.
- `speech.py` — логика озвучивания: умеет вызывать `edge-tts` для онлайн-озвучки и `pyttsx3` для офлайн. Текст автоматически разбивается на части для стабильного воспроизведения.
- `chat_utils.py` — вспомогательные утилиты: обёртка для переноса строк и разделения длинного текста на части.
- `config.py` — настройки по умолчанию: список голосов, параметры громкости/скорости, цвета UI и др.
- `internet_check.py` — фоновый поток, который пингует интернет и ставит флаг доступности сети.

Особенности
-----------
- Быстрая переключаемость голосов (F2) и режима (F3).
- Управление громкостью и скоростью клавишами-стрелками:
	- Влево/Вправо — уменьшить/увеличить скорость синтеза;
	- Вверх/Вниз — увеличить/уменьшить громкость.
- Индикатор сети: маленький кружочек в левом верхнем углу показывает зелёный, если приложение в онлайн-режиме и интернет доступен; красный — в противном случае.
- Тёмная тема включается F9.

Горячие клавиши
---------------
- Enter — отправить сообщение и озвучить его.
- Ctrl+V — вставить из буфера обмена.
- F2 — переключить голос.
- F3 — переключить режим Офлайн/Онлайн.
- F9 — тёмная/светлая тема.
- PageUp/PageDown — прокрутка чата вверх/вниз (удержание прокручивает).
- Стрелки ← → ↑ ↓ — регулировка скорости/громкости.
- Esc — выйти.

Зависимости
-----------
Убедитесь, что у вас установлены нужные пакеты. Пример:

```bash
python -m pip install pygame requests pyperclip edge-tts pyttsx3
```

Запуск
------
Перейдите в папку `chat_free_tts` и выполните:

```bash
python main.py
```

Примечания по звуку
-------------------
- Если `pygame.mixer` не удаётся инициализировать, приложение всё ещё будет работать, но без звука (вы увидите предупреждение в консоли).
- Для онлайн-озвучки используется `edge-tts` и временные mp3-файлы — они удаляются после воспроизведения.

Лицензия и происхождение
------------------------
Этот проект был улучшен с помощью автоматизированной помощи (ИИ) — часть изменений и проверок были выполнены при участии инструментов автоматизации, но основной функционал и идеи принадлежат авторам кода. Используйте и модифицируйте по своему усмотрению.
